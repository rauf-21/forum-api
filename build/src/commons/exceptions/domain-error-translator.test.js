"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const authentication_token_manager_error_1 = require("../constants/applications/security/authentication-token-manager-error");
const password_hash_error_1 = require("../constants/applications/security/password-hash-error");
const delete_authentication_use_case_error_1 = require("../constants/applications/use-case/delete-authentication-use-case-error");
const refresh_authentication_use_case_error_1 = require("../constants/applications/use-case/refresh-authentication-use-case-error");
const authentication_repository_error_1 = require("../constants/domains/authentications/authentication-repository-error");
const comment_repository_error_1 = require("../constants/domains/comments/comment-repository-error");
const new_comment_error_1 = require("../constants/domains/comments/new-comment-error");
const new_reply_error_1 = require("../constants/domains/replies/new-reply-error");
const reply_repository_error_1 = require("../constants/domains/replies/reply-repository-error");
const new_thread_error_1 = require("../constants/domains/threads/new-thread-error");
const thread_repository_error_1 = require("../constants/domains/threads/thread-repository-error");
const register_user_error_1 = require("../constants/domains/users/register-user-error");
const user_login_error_1 = require("../constants/domains/users/user-login-error");
const user_repository_error_1 = require("../constants/domains/users/user-repository-error");
const authentication_error_1 = require("./authentication-error");
const authorization_error_1 = require("./authorization-error");
const domain_error_translator_1 = require("./domain-error-translator");
const invariant_error_1 = require("./invariant-error");
const not_found_error_1 = require("./not-found-error");
describe("DomainErrorTranslator", () => {
    it("should translate the error correctly", () => {
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(register_user_error_1.REGISTER_USER_ERROR.MISSING_PROPERTY))).toStrictEqual(new invariant_error_1.InvariantError(register_user_error_1.REGISTER_USER_ERROR_MESSAGE.MISSING_PROPERTY));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(register_user_error_1.REGISTER_USER_ERROR.INVALID_DATA_TYPE))).toStrictEqual(new invariant_error_1.InvariantError(register_user_error_1.REGISTER_USER_ERROR_MESSAGE.INVALID_DATA_TYPE));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(register_user_error_1.REGISTER_USER_ERROR.USERNAME_EXCEEDS_THE_CHARACTER_LIMIT))).toStrictEqual(new invariant_error_1.InvariantError(register_user_error_1.REGISTER_USER_ERROR_MESSAGE.USERNAME_EXCEEDS_THE_CHARACTER_LIMIT));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(register_user_error_1.REGISTER_USER_ERROR.USERNAME_CONTAINS_A_RESTRICTED_CHARACTER))).toStrictEqual(new invariant_error_1.InvariantError(register_user_error_1.REGISTER_USER_ERROR_MESSAGE.USERNAME_CONTAINS_A_RESTRICTED_CHARACTER));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(user_login_error_1.USER_LOGIN_ERROR.MISSING_PROPERTY))).toStrictEqual(new invariant_error_1.InvariantError(user_login_error_1.USER_LOGIN_ERROR_MESSAGE.MISSING_PROPERTY));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(user_login_error_1.USER_LOGIN_ERROR.INVALID_DATA_TYPE))).toStrictEqual(new invariant_error_1.InvariantError(user_login_error_1.USER_LOGIN_ERROR_MESSAGE.INVALID_DATA_TYPE));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(refresh_authentication_use_case_error_1.REFRESH_AUTHENTICATION_USE_CASE_ERROR.MISSING_REFRESH_TOKEN))).toStrictEqual(new invariant_error_1.InvariantError(refresh_authentication_use_case_error_1.REFRESH_AUTHENTICATION_USE_CASE_ERROR_MESSAGE.MISSING_REFRESH_TOKEN));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(refresh_authentication_use_case_error_1.REFRESH_AUTHENTICATION_USE_CASE_ERROR.INVALID_REFRESH_TOKEN_DATA_TYPE))).toStrictEqual(new invariant_error_1.InvariantError(refresh_authentication_use_case_error_1.REFRESH_AUTHENTICATION_USE_CASE_ERROR_MESSAGE.INVALID_REFRESH_TOKEN_DATA_TYPE));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(delete_authentication_use_case_error_1.DELETE_AUTHENTICATION_USE_CASE_ERROR.MISSING_REFRESH_TOKEN))).toStrictEqual(new invariant_error_1.InvariantError(delete_authentication_use_case_error_1.DELETE_AUTHENTICATION_USE_CASE_ERROR_MESSAGE.MISSING_REFRESH_TOKEN));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(delete_authentication_use_case_error_1.DELETE_AUTHENTICATION_USE_CASE_ERROR.INVALID_REFRESH_TOKEN_DATA_TYPE))).toStrictEqual(new invariant_error_1.InvariantError(delete_authentication_use_case_error_1.DELETE_AUTHENTICATION_USE_CASE_ERROR_MESSAGE.INVALID_REFRESH_TOKEN_DATA_TYPE));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(new_thread_error_1.NEW_THREAD_ERROR.MISSING_PROPERTY))).toStrictEqual(new invariant_error_1.InvariantError(new_thread_error_1.NEW_THREAD_ERROR_MESSAGE.MISSING_PROPERTY));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(new_thread_error_1.NEW_THREAD_ERROR.INVALID_DATA_TYPE))).toStrictEqual(new invariant_error_1.InvariantError(new_thread_error_1.NEW_THREAD_ERROR_MESSAGE.INVALID_DATA_TYPE));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(user_repository_error_1.USER_REPOSITORY_ERROR.USERNAME_NOT_FOUND))).toStrictEqual(new invariant_error_1.InvariantError(user_repository_error_1.USER_REPOSITORY_ERROR_MESSAGE.USERNAME_NOT_FOUND));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(user_repository_error_1.USER_REPOSITORY_ERROR.USER_NOT_FOUND))).toStrictEqual(new not_found_error_1.NotFoundError(user_repository_error_1.USER_REPOSITORY_ERROR_MESSAGE.USER_NOT_FOUND));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(password_hash_error_1.PASSWORD_HASH_ERROR.INCORRECT_CREDENTIALS))).toStrictEqual(new authentication_error_1.AuthenticationError(password_hash_error_1.PASSWORD_HASH_ERROR_MESSAGE.INCORRECT_CREDENTIALS));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(authentication_token_manager_error_1.AUTHENTICATION_TOKEN_MANAGER_ERROR.INVALID_REFRESH_TOKEN))).toStrictEqual(new invariant_error_1.InvariantError(authentication_token_manager_error_1.AUTHENTICATION_TOKEN_MANAGER_ERROR_MESSAGE.INVALID_REFRESH_TOKEN));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(authentication_repository_error_1.AUTHENTICATION_REPOSITORY_ERROR.REFRESH_TOKEN_NOT_FOUND))).toStrictEqual(new invariant_error_1.InvariantError(authentication_repository_error_1.AUTHENTICATION_REPOSITORY_ERROR_MESSAGE.REFRESH_TOKEN_NOT_FOUND));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(new_comment_error_1.NEW_COMMENT_ERROR.MISSING_PROPERTY))).toStrictEqual(new invariant_error_1.InvariantError(new_comment_error_1.NEW_COMMENT_ERROR_MESSAGE.MISSING_PROPERTY));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(new_comment_error_1.NEW_COMMENT_ERROR.INVALID_DATA_TYPE))).toStrictEqual(new invariant_error_1.InvariantError(new_comment_error_1.NEW_COMMENT_ERROR_MESSAGE.INVALID_DATA_TYPE));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(thread_repository_error_1.THREAD_REPOSITORY_ERROR.THREAD_NOT_FOUND))).toStrictEqual(new not_found_error_1.NotFoundError(thread_repository_error_1.THREAD_REPOSITORY_ERROR_MESSAGE.THREAD_NOT_FOUND));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(comment_repository_error_1.COMMENT_REPOSITORY_ERROR.UNAUTHORIZED_COMMENT_DELETION))).toStrictEqual(new authorization_error_1.AuthorizationError(comment_repository_error_1.COMMENT_REPOSITORY_ERROR_MESSAGE.UNAUTHORIZED_COMMENT_DELETION));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(comment_repository_error_1.COMMENT_REPOSITORY_ERROR.COMMENT_NOT_FOUND))).toStrictEqual(new not_found_error_1.NotFoundError(comment_repository_error_1.COMMENT_REPOSITORY_ERROR_MESSAGE.COMMENT_NOT_FOUND));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(new_reply_error_1.NEW_REPLY_ERROR.MISSING_PROPERTY))).toStrictEqual(new invariant_error_1.InvariantError(new_reply_error_1.NEW_REPLY_ERROR_MESSAGE.MISSING_PROPERTY));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(new_reply_error_1.NEW_REPLY_ERROR.INVALID_DATA_TYPE))).toStrictEqual(new invariant_error_1.InvariantError(new_reply_error_1.NEW_REPLY_ERROR_MESSAGE.INVALID_DATA_TYPE));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(reply_repository_error_1.REPLY_REPOSITORY_ERROR.UNAUTHORIZED_REPLY_DELETION))).toStrictEqual(new authorization_error_1.AuthorizationError(reply_repository_error_1.REPLY_REPOSITORY_ERROR_MESSAGE.UNAUTHORIZED_REPLY_DELETION));
        expect(domain_error_translator_1.DomainErrorTranslator.translate(new Error(reply_repository_error_1.REPLY_REPOSITORY_ERROR.REPLY_NOT_FOUND))).toStrictEqual(new not_found_error_1.NotFoundError(reply_repository_error_1.REPLY_REPOSITORY_ERROR_MESSAGE.REPLY_NOT_FOUND));
    });
    it("should return the original error when an error message is not needed to translate", () => {
        const error = new Error("some_error_message");
        const translatedError = domain_error_translator_1.DomainErrorTranslator.translate(error);
        expect(translatedError).toStrictEqual(error);
    });
});
